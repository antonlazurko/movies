{"version":3,"sources":["services/movie-api.tsx","views/HomeView.module.css","../node_modules/@material-ui/icons/Delete.js","../node_modules/react-firebase-hooks/firestore/dist/index.esm.js","../node_modules/@material-ui/core/esm/ListItemSecondaryAction/ListItemSecondaryAction.js","views/FavoriteMovieView/FavoriteMovieView.tsx"],"names":["BASE_URL","AUTH_KEY","fetchMovies","a","url","fetch","response","ok","json","Promise","reject","Error","fetchPopularMovies","fetchMoviesByQuery","movieQuery","queryPage","fetchMovieDetails","movieId","fetchMovieCast","fetchMovieReviews","module","exports","_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","value","default","React","_default","createElement","d","snapshotToData","snapshot","snapshotOptions","idField","refField","transform","exists","data","id","ref","__assign","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","defaultState","defaultValue","loading","undefined","useLoadingValue","getDefaultValue","_a","useReducer","state","action","type","error","dispatch","reset","setError","setValue","useMemo","isEqual","v1","v2","bothNull","equal","useIsEqualRef","onChange","useRef","useEffect","current","useComparatorRef","useCollectionInternal","listen","query","options","listener_1","snapshotListenOptions","onSnapshot","get","getOptions","then","catch","resArray","useCollectionDataInternal","snapshots","docs","map","doc","ListItemSecondaryAction","props","classes","className","other","_objectWithoutProperties","_extends","clsx","root","muiName","withStyles","position","right","top","name","FavoriteMovieView","useContext","FirebaseContext","firestore","auth","useState","movies","setMovies","location","useLocation","useAuthState","user","collection","displayName","includeMetadataChanges","favoriteMovies","movieRender","favoriteMovieEl","moviesArr","movie","find","ListItem","to","pathname","from","title","IconButton","aria-label","onClick","delete","console","log","fontSize","moviesAPI","results","List","favoriteMovie","styles"],"mappings":"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","file":"static/js/11.5db2aa59.chunk.js","sourcesContent":["const BASE_URL = 'https://api.themoviedb.org/3';\r\nconst AUTH_KEY = 'd66f8875c56322c0e6582f80570eea14';\r\ntype TMovie = { id: string, name: string, title: string,poster_path:string,release_date:string }\r\n\r\ntype TFetchMoviesByQuery = (movieQuery: string, queryPage: number)=>Promise<{results:TMovie[]}>;\r\nasync function fetchMovies(url = '') {\r\n  const response = await fetch(url);\r\n  return response.ok\r\n    ? await response.json()\r\n    : Promise.reject(new Error('Not found'));\r\n}\r\nexport function fetchPopularMovies() {\r\n  return fetchMovies(`${BASE_URL}/trending/all/day?api_key=${AUTH_KEY}`);\r\n}\r\nexport const fetchMoviesByQuery:TFetchMoviesByQuery=(movieQuery, queryPage)=> {\r\n   return fetchMovies(\r\n    `${BASE_URL}/search/movie?api_key=${AUTH_KEY}&query=${movieQuery}&page=${queryPage}`,\r\n  );\r\n}\r\nexport function fetchMovieDetails(movieId:string) {\r\n  return fetchMovies(`${BASE_URL}/movie/${movieId}?api_key=${AUTH_KEY}`);\r\n}\r\nexport function fetchMovieCast(movieId:string) {\r\n  return fetchMovies(\r\n    `${BASE_URL}/movie/${movieId}/credits?api_key=${AUTH_KEY}`,\r\n  );\r\n}\r\nexport function fetchMovieReviews(movieId:string) {\r\n  return fetchMovies(\r\n    `${BASE_URL}/movie/${movieId}/reviews?api_key=${AUTH_KEY}`,\r\n  );\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"HomeView_title__35BlT\",\"list\":\"HomeView_list__1sizy\",\"item\":\"HomeView_item__A1DJP\",\"name\":\"HomeView_name__1dDaR\",\"deleteBtn\":\"HomeView_deleteBtn__2flHo\"};","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"\n}), 'Delete');\n\nexports.default = _default;","import { useMemo, useReducer, useEffect, useRef } from 'react';\n\nvar snapshotToData = function (snapshot, snapshotOptions, idField, refField, transform) {\r\n    if (!snapshot.exists) {\r\n        return undefined;\r\n    }\r\n    var data = snapshot.data(snapshotOptions);\r\n    if (transform) {\r\n        data = transform(data);\r\n    }\r\n    if (idField) {\r\n        data[idField] = snapshot.id;\r\n    }\r\n    if (refField) {\r\n        data[refField] = snapshot.ref;\r\n    }\r\n    return data;\r\n};\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar defaultState = function (defaultValue) {\r\n    return {\r\n        loading: defaultValue === undefined || defaultValue === null,\r\n        value: defaultValue,\r\n    };\r\n};\r\nvar reducer = function () { return function (state, action) {\r\n    switch (action.type) {\r\n        case 'error':\r\n            return __assign({}, state, { error: action.error, loading: false, value: undefined });\r\n        case 'reset':\r\n            return defaultState(action.defaultValue);\r\n        case 'value':\r\n            return __assign({}, state, { error: undefined, loading: false, value: action.value });\r\n        default:\r\n            return state;\r\n    }\r\n}; };\r\nvar useLoadingValue = (function (getDefaultValue) {\r\n    var defaultValue = getDefaultValue ? getDefaultValue() : undefined;\r\n    var _a = useReducer(reducer(), defaultState(defaultValue)), state = _a[0], dispatch = _a[1];\r\n    var reset = function () {\r\n        var defaultValue = getDefaultValue ? getDefaultValue() : undefined;\r\n        dispatch({ type: 'reset', defaultValue: defaultValue });\r\n    };\r\n    var setError = function (error) {\r\n        dispatch({ type: 'error', error: error });\r\n    };\r\n    var setValue = function (value) {\r\n        dispatch({ type: 'value', value: value });\r\n    };\r\n    return useMemo(function () { return ({\r\n        error: state.error,\r\n        loading: state.loading,\r\n        reset: reset,\r\n        setError: setError,\r\n        setValue: setValue,\r\n        value: state.value,\r\n    }); }, [state.error, state.loading, reset, setError, setValue, state.value]);\r\n});\n\nvar useComparatorRef = function (value, isEqual, onChange) {\r\n    var ref = useRef(value);\r\n    useEffect(function () {\r\n        if (!isEqual(value, ref.current)) {\r\n            ref.current = value;\r\n            if (onChange) {\r\n                onChange();\r\n            }\r\n        }\r\n    });\r\n    return ref;\r\n};\r\nvar isEqual = function (v1, v2) {\r\n    var bothNull = !v1 && !v2;\r\n    var equal = !!v1 && !!v2 && v1.isEqual(v2);\r\n    return bothNull || equal;\r\n};\r\nvar useIsEqualRef = function (value, onChange) {\r\n    return useComparatorRef(value, isEqual, onChange);\r\n};\n\nvar useCollection = function (query, options) {\r\n    return useCollectionInternal(true, query, options);\r\n};\r\nvar useCollectionOnce = function (query, options) {\r\n    return useCollectionInternal(false, query, options);\r\n};\r\nvar useCollectionData = function (query, options) {\r\n    return useCollectionDataInternal(true, query, options);\r\n};\r\nvar useCollectionDataOnce = function (query, options) {\r\n    return useCollectionDataInternal(false, query, options);\r\n};\r\nvar useCollectionInternal = function (listen, query, options) {\r\n    var _a = useLoadingValue(), error = _a.error, loading = _a.loading, reset = _a.reset, setError = _a.setError, setValue = _a.setValue, value = _a.value;\r\n    var ref = useIsEqualRef(query, reset);\r\n    useEffect(function () {\r\n        if (!ref.current) {\r\n            setValue(undefined);\r\n            return;\r\n        }\r\n        if (listen) {\r\n            var listener_1 = options && options.snapshotListenOptions\r\n                ? ref.current.onSnapshot(options.snapshotListenOptions, setValue, setError)\r\n                : ref.current.onSnapshot(setValue, setError);\r\n            return function () {\r\n                listener_1();\r\n            };\r\n        }\r\n        else {\r\n            ref.current\r\n                .get(options ? options.getOptions : undefined)\r\n                .then(setValue)\r\n                .catch(setError);\r\n        }\r\n    }, [ref.current]);\r\n    var resArray = [\r\n        value,\r\n        loading,\r\n        error,\r\n    ];\r\n    return useMemo(function () { return resArray; }, resArray);\r\n};\r\nvar useCollectionDataInternal = function (listen, query, options) {\r\n    var idField = options ? options.idField : undefined;\r\n    var refField = options ? options.refField : undefined;\r\n    var snapshotOptions = options ? options.snapshotOptions : undefined;\r\n    var transform = options ? options.transform : undefined;\r\n    var _a = useCollectionInternal(listen, query, options), snapshots = _a[0], loading = _a[1], error = _a[2];\r\n    var values = useMemo(function () {\r\n        return (snapshots\r\n            ? snapshots.docs.map(function (doc) {\r\n                return snapshotToData(doc, snapshotOptions, idField, refField, transform);\r\n            })\r\n            : undefined);\r\n    }, [snapshots, snapshotOptions, idField, refField, transform]);\r\n    var resArray = [\r\n        values,\r\n        loading,\r\n        error,\r\n    ];\r\n    return useMemo(function () { return resArray; }, resArray);\r\n};\n\nvar useDocument = function (docRef, options) {\r\n    return useDocumentInternal(true, docRef, options);\r\n};\r\nvar useDocumentOnce = function (docRef, options) {\r\n    return useDocumentInternal(false, docRef, options);\r\n};\r\nvar useDocumentData = function (docRef, options) {\r\n    return useDocumentDataInternal(true, docRef, options);\r\n};\r\nvar useDocumentDataOnce = function (docRef, options) {\r\n    return useDocumentDataInternal(false, docRef, options);\r\n};\r\nvar useDocumentInternal = function (listen, docRef, options) {\r\n    var _a = useLoadingValue(), error = _a.error, loading = _a.loading, reset = _a.reset, setError = _a.setError, setValue = _a.setValue, value = _a.value;\r\n    var ref = useIsEqualRef(docRef, reset);\r\n    useEffect(function () {\r\n        if (!ref.current) {\r\n            setValue(undefined);\r\n            return;\r\n        }\r\n        if (listen) {\r\n            var listener_1 = options && options.snapshotListenOptions\r\n                ? ref.current.onSnapshot(options.snapshotListenOptions, setValue, setError)\r\n                : ref.current.onSnapshot(setValue, setError);\r\n            return function () {\r\n                listener_1();\r\n            };\r\n        }\r\n        else {\r\n            ref.current\r\n                .get(options ? options.getOptions : undefined)\r\n                .then(setValue)\r\n                .catch(setError);\r\n        }\r\n    }, [ref.current]);\r\n    var resArray = [\r\n        value,\r\n        loading,\r\n        error,\r\n    ];\r\n    return useMemo(function () { return resArray; }, resArray);\r\n};\r\nvar useDocumentDataInternal = function (listen, docRef, options) {\r\n    var idField = options ? options.idField : undefined;\r\n    var refField = options ? options.refField : undefined;\r\n    var snapshotOptions = options ? options.snapshotOptions : undefined;\r\n    var transform = options ? options.transform : undefined;\r\n    var _a = useDocumentInternal(listen, docRef, options), snapshot = _a[0], loading = _a[1], error = _a[2];\r\n    var value = useMemo(function () {\r\n        return (snapshot\r\n            ? snapshotToData(snapshot, snapshotOptions, idField, refField, transform)\r\n            : undefined);\r\n    }, [snapshot, snapshotOptions, idField, refField, transform]);\r\n    var resArray = [\r\n        value,\r\n        loading,\r\n        error,\r\n    ];\r\n    return useMemo(function () { return resArray; }, resArray);\r\n};\n\nexport { useCollection, useCollectionOnce, useCollectionData, useCollectionDataOnce, useDocument, useDocumentData, useDocumentOnce, useDocumentDataOnce };\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    position: 'absolute',\n    right: 16,\n    top: '50%',\n    transform: 'translateY(-50%)'\n  }\n};\n/**\n * Must be used as the last child of ListItem to function properly.\n */\n\nvar ListItemSecondaryAction = /*#__PURE__*/React.forwardRef(function ListItemSecondaryAction(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\"]);\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: clsx(classes.root, className),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? ListItemSecondaryAction.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component, normally an `IconButton` or selection control.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string\n} : void 0;\nListItemSecondaryAction.muiName = 'ListItemSecondaryAction';\nexport default withStyles(styles, {\n  name: 'MuiListItemSecondaryAction'\n})(ListItemSecondaryAction);","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { useCollectionData } from \"react-firebase-hooks/firestore\";\r\nimport { useLocation, Link } from \"react-router-dom\";\r\nimport { useAuthState } from \"react-firebase-hooks/auth\";\r\n\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\n\r\nimport {\r\n  IconButton,\r\n  List,\r\n  ListItem,\r\n  ListItemSecondaryAction,\r\n} from \"@material-ui/core\";\r\n\r\nimport { FirebaseContext } from \"../../index\";\r\n\r\nimport { TMovies } from \"../../types\";\r\nimport * as moviesAPI from \"../../services/movie-api\";\r\nimport s from \"../HomeView.module.css\";\r\nimport styles from \"./FavoriteMovieView.module.css\";\r\n\r\nconst FavoriteMovieView: React.FC = () => {\r\n  const { firestore, auth } = useContext(FirebaseContext);\r\n  const [movies, setMovies] = useState<TMovies[]>([]);\r\n  const location = useLocation();\r\n  const [user] = useAuthState(auth);\r\n\r\n  const [favoriteMovies, loading, error] = useCollectionData(\r\n    firestore?.collection(`${user?.displayName}`),\r\n    {\r\n      snapshotListenOptions: { includeMetadataChanges: true },\r\n    }\r\n  );\r\n  const handleRemoveFavorite = (id: string) => {\r\n    firestore\r\n      ?.collection(`${user?.displayName}`)\r\n      .doc(`movieId${id}`)\r\n      .delete()\r\n      .then(() => {\r\n        console.log(\"Document successfully deleted!\");\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error removing document: \", error);\r\n      });\r\n  };\r\n  const movieRender = (favoriteMovieEl: any, moviesArr: TMovies[] | []) => {\r\n    const movie = moviesArr.find(\r\n      (movie) => `${movie.id}` === favoriteMovieEl.movieId\r\n    );\r\n    return (\r\n      <>\r\n        <ListItem key={favoriteMovieEl.movieId}>\r\n          <Link\r\n            to={{\r\n              pathname: `/movies/${movie?.id}`,\r\n              state: { from: location },\r\n            }}\r\n            className={s.name}\r\n          >\r\n            {movie?.name ?? movie?.title}\r\n          </Link>\r\n          <ListItemSecondaryAction>\r\n            <IconButton\r\n              aria-label=\"delete\"\r\n              onClick={() => handleRemoveFavorite(favoriteMovieEl.movieId)}\r\n            >\r\n              <DeleteIcon fontSize=\"small\" />\r\n            </IconButton>\r\n          </ListItemSecondaryAction>\r\n        </ListItem>\r\n        <hr />\r\n      </>\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    moviesAPI\r\n      .fetchPopularMovies()\r\n      .then(({ results }) => {\r\n        setMovies(results);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <h1 className={s.title}>Favorites</h1>\r\n      {favoriteMovies?.length ? (\r\n        <List>\r\n          {loading && <div>Loading</div>}\r\n          {error && <div>{error}</div>}\r\n          {!loading &&\r\n            favoriteMovies?.map((favoriteMovie) =>\r\n              movieRender(favoriteMovie, movies)\r\n            )}\r\n        </List>\r\n      ) : (\r\n        <h2 className={`${styles.title}`}>No one movie</h2>\r\n      )}\r\n    </>\r\n  );\r\n};\r\nexport default FavoriteMovieView;\r\n"],"sourceRoot":""}