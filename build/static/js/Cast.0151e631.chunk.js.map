{"version":3,"sources":["views/Cast.tsx","views/Cast.module.css"],"names":["Cast","movieId","useState","cast","setCast","Status","IDLE","status","setStatus","error","setError","useEffect","PENDING","moviesAPI","then","RESOLVED","catch","REJECTED","className","s","list","length","map","artist","item","name","profile_path","image","src","alt","id","module","exports"],"mappings":"uPAYe,SAASA,EAAT,GAAsC,IAAtBC,EAAqB,EAArBA,QAAqB,EAC1BC,mBAAS,IADiB,mBAC3CC,EAD2C,KACrCC,EADqC,OAEtBF,mBAASG,IAAOC,MAFM,mBAE3CC,EAF2C,KAEnCC,EAFmC,OAGxBN,mBAAS,IAHe,mBAG3CO,EAH2C,KAGpCC,EAHoC,KAkBlD,OAbAC,qBAAU,WACRH,EAAUH,IAAOO,SACjBC,IACkBZ,GACfa,MAAK,YAAe,IAAZX,EAAW,EAAXA,KACPC,EAAQD,GACRK,EAAUH,IAAOU,aAElBC,OAAM,SAACP,GACNC,EAASD,GACTD,EAAUH,IAAOY,eAEpB,CAAChB,IAEF,qCACGM,IAAWF,IAAOO,SAAW,8CAC7BL,IAAWF,IAAOY,UAAY,4BAAIR,IAClCF,IAAWF,IAAOU,UACjB,qBAAIG,UAAWC,IAAEC,KAAjB,UACmB,IAAhBjB,EAAKkB,QAAgB,oDACrBlB,EAAKmB,KAAI,SAACC,GAAD,OACR,qBAAoBL,UAAWC,IAAEK,KAAjC,UACE,sBAAMN,UAAWC,IAAEM,KAAnB,SAA0BF,EAAOE,OAChCF,EAAOG,cACN,qBACER,UAAWC,IAAEQ,MACbC,IAAG,0CAAqCL,EAAOG,cAC/CG,IAAKN,EAAOE,SANTF,EAAOO,e,oBCrC5BC,EAAOC,QAAU,CAAC,KAAO,mBAAmB,MAAQ","file":"static/js/Cast.0151e631.chunk.js","sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport * as moviesAPI from \"../services/movie-api\";\r\nimport Status from \"../services/Status\";\r\nimport s from \"../views/Cast.module.css\";\r\ntype TMovieId = { movieId: string };\r\ninterface IArtist {\r\n  id: string;\r\n  profile_path: string;\r\n  name: string;\r\n}\r\nexport default function Cast({ movieId }: TMovieId) {\r\n  const [cast, setCast] = useState([]);\r\n  const [status, setStatus] = useState(Status.IDLE);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    setStatus(Status.PENDING);\r\n    moviesAPI\r\n      .fetchMovieCast(movieId)\r\n      .then(({ cast }) => {\r\n        setCast(cast);\r\n        setStatus(Status.RESOLVED);\r\n      })\r\n      .catch((error) => {\r\n        setError(error);\r\n        setStatus(Status.REJECTED);\r\n      });\r\n  }, [movieId]);\r\n  return (\r\n    <>\r\n      {status === Status.PENDING && <p>Download cast</p>}\r\n      {status === Status.REJECTED && <p>{error}</p>}\r\n      {status === Status.RESOLVED && (\r\n        <ul className={s.list}>\r\n          {cast.length === 0 && <p>No cast information</p>}\r\n          {cast.map((artist: IArtist) => (\r\n            <li key={artist.id} className={s.item}>\r\n              <span className={s.name}>{artist.name}</span>\r\n              {artist.profile_path && (\r\n                <img\r\n                  className={s.image}\r\n                  src={`https://image.tmdb.org/t/p/w200/${artist.profile_path}`}\r\n                  alt={artist.name}\r\n                />\r\n              )}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </>\r\n  );\r\n}\r\nCast.propTypes = {\r\n  movieId: PropTypes.string,\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"Cast_list__ySYIN\",\"image\":\"Cast_image__2VgHO\"};"],"sourceRoot":""}